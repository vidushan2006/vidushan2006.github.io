<!DOCTYPE HTML>
<html>
<head>
  <title>VIDU</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="assets/css/main.css" />
  <style>
    /* --- preserve background + fonts --- */
    body {
      background: url('assets/images/background.gif') no-repeat center center fixed;
      background-size: cover;
      font-family: "Helvetica Neue", Arial, sans-serif;
      margin:0;
      color: #fff;
    }

    /* header/nav tweaks */
    header#header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 18px;
      background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      backdrop-filter: blur(6px) saturate(120%);
      border-bottom:1px solid rgba(255,255,255,0.03);
      box-shadow: 0 8px 40px rgba(2,4,12,0.6);
      z-index: 4;
    }

    /* Logo: removed text label, increased size, no circle/border */
    header#header .logo { display:flex; align-items:center; gap:10px; text-decoration:none; color:#fff; user-select:none; position:relative; }
    header#header .logo img { height:78px; width:auto; border-radius:0; box-shadow: 0 10px 30px rgba(0,0,0,0.6); }

    nav ul { list-style:none; display:flex; gap:12px; margin:0; padding:0; align-items:center; }
    nav ul li a {
      color:#fff;
      text-decoration:none;
      padding:8px 12px;
      border-radius:8px;
      font-weight:700;
      font-size:14px;
      display:inline-block;
      position:relative;
      transition: transform .18s ease, color .18s ease;
    }
    nav ul li a:hover { transform: translateY(-3px); color:#fff; }

    /* --- main container --- */
    .inner { max-width:1080px; margin: 0 auto; padding: 32px; color:#fff; position:relative; z-index:3; }
    h2 { margin-top:0; }

    /* list */
    .list-container { list-style: none; padding: 0; display: flex; flex-wrap: wrap; gap: 1rem; }
    .list-item { width: 220px; cursor: pointer; text-align: center; background: rgba(0,0,0,0.45); border-radius:8px; padding:8px; transition:transform .12s, box-shadow .12s; position:relative; overflow:visible; }
    .list-item:hover { transform: translateY(-6px); box-shadow: 0 8px 30px rgba(0,0,0,0.6); }
    .list-item img { width: 100%; border-radius: 6px; display:block; }
    .list-item .title { display:block; margin-top: 0.6rem; color:#fff; font-weight:600; font-size:14px; }

    /* modal */
    .modal-backdrop { position:fixed; inset:0; background: rgba(0,0,0,0.65); display:flex; align-items:center; justify-content:center; z-index:9999; }
    .modal { width: min(960px, 95%); background:#0b0b0b; border-radius:10px; padding:16px; color:#fff; }
    .modal .controls { display:flex; gap:8px; justify-content:space-between; align-items:center; margin-bottom:8px; }
    .modal iframe { width:100%; height:540px; border-radius:8px; border:0; background:#000; }
    .btn { background:#ff6b6b; color:#fff; padding:8px 12px; border-radius:6px; text-decoration:none; display:inline-block; border:0; cursor:pointer; position:relative; z-index:1; }
    .btn.secondary { background:#333; color:#fff; }
    .password-row { display:flex; gap:8px; margin-top:8px; }
    .password-row input { flex:1; padding:8px; border-radius:6px; border:1px solid #222; background:#0f0f0f; color:#fff; }
    .muted { color:#bbb; font-size:13px; }

    footer#footer { text-align:center; padding:18px; color:#ddd; margin-top:30px; }

    @media (max-width:720px) {
      .list-item { width: calc(50% - 12px); }
      .modal iframe { height:300px; }
      header#header .logo img { height:56px; }
    }

    /* small entrance animation */
    .list-item { opacity:0; transform-origin:center; animation: fadeIn .45s forwards; }
    @keyframes fadeIn { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }

    /* modal-specific playlist list layout */
    .modal .playlist-list { display:flex; flex-direction:column; gap:8px; margin-top:12px; max-height:260px; overflow:auto; padding-top:6px; }
    .modal .playlist-list .list-item { width:100%; display:flex; align-items:center; gap:10px; padding:8px; }
    .modal .playlist-list .list-item img { width:140px; height:78px; object-fit:cover; border-radius:6px; }
    .modal .playlist-list .list-item .title { text-align:left; font-size:13px; }
    .modal .playlist-list .list-item.active { outline:2px solid rgba(255,107,107,0.12); background: rgba(255,107,107,0.03); }

    /* ================================
       TARGETED NEON GREEN OUTLINE
       For header nav items (Home / Videos / About) and the logo ONLY.
       The outline sits OUTSIDE the element (negative inset) and does NOT go inside it.
       Desktop hover/keyboard focus and mobile touch interactions are supported.
       ================================= */

    /* ensure specific header elements can show the external outline */
    header nav ul li a, header .logo {
      position: relative;
      z-index: 2;
      overflow: visible;
    }

    /* blurred animated glow outside element */
    header nav ul li a::before,
    header .logo::before {
      content: "";
      position: absolute;
      inset: -10px;               /* pushes the glow outside the element box */
      border-radius: 14px;        /* matches rounded corners visually */
      background: linear-gradient(90deg,
                    rgba(57,255,20,0.06) 0%,
                    rgba(57,255,20,0.28) 25%,
                    rgba(57,255,20,0.6) 50%,
                    rgba(57,255,20,0.28) 75%,
                    rgba(57,255,20,0.06) 100%);
      background-size: 300% 100%;
      filter: blur(8px) saturate(150%);
      opacity: 0.0; /* initially hidden (so not always visible) */
      z-index: -1; /* sits behind the element visually */
      transition: opacity .22s ease, transform .22s ease;
      pointer-events: none;
      animation: neonMove 4s linear infinite;
      box-shadow: 0 8px 30px rgba(57,255,20,0.06);
    }

    /* crisp outer rim to read as an outline (not inside) */
    header nav ul li a::after,
    header .logo::after {
      content: "";
      position: absolute;
      inset: -4px;
      border-radius: 12px;
      border: 1px solid rgba(57,255,20,0.18);
      opacity: 0.0;
      z-index: -1;
      pointer-events: none;
      transition: opacity .18s ease, transform .18s ease;
      backdrop-filter: blur(2px);
    }

    @keyframes neonMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Stronger visible state on hover / focus (desktop & keyboard) */
    header nav ul li a.hover-strong::before,
    header .logo.hover-strong::before {
      filter: blur(12px) saturate(220%);
      transform: scale(1.03);
      opacity: 1;
      animation-duration: 2.4s;
    }
    header nav ul li a.hover-strong::after,
    header .logo.hover-strong::after {
      border-color: rgba(57,255,20,0.5);
      opacity: 1;
      transform: translateY(-2px);
    }

    /* Touch press effect for mobile: quick scale down + brief rim */
    header nav ul li a.touch-active,
    header .logo.touch-active {
      transform: scale(0.985);
      transition: transform .08s linear;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6);
    }
    header nav ul li a.touch-active::before,
    header .logo.touch-active::before {
      filter: blur(6px) saturate(160%);
      transform: scale(1.01);
      opacity: 1;
      animation-duration: 1.6s;
    }

    /* small pulse animation on click for accessibility */
    header nav ul li a.pulse,
    header .logo.pulse { animation: btnPulse .5s ease-out; }
    @keyframes btnPulse {
      0% { box-shadow: 0 0 0 rgba(57,255,20,0.28); }
      50% { box-shadow: 0 0 30px rgba(57,255,20,0.22); }
      100% { box-shadow: 0 0 0 rgba(57,255,20,0); }
    }

    /* hide animations for reduced-motion users */
    @media (prefers-reduced-motion: reduce) {
      header nav ul li a::before,
      header .logo::before { animation: none; transition: none; filter: blur(6px); opacity:0; }
    }

  </style>
</head>
<body class="landing is-preload">

  <div id="wrapper">
    <!-- Header: logo text removed, logo enlarged -->
    <header id="header">
      <a href="index.html" class="logo" aria-label="VIDU home">
        <img src="https://i.pinimg.com/736x/4d/fa/7b/4dfa7b57656b556f257b4a2e4f8fc8fa.jpg" alt="VIDU Logo" />
      </a>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="videos.html">Videos</a></li>
          <li><a href="about.html">About</a></li>
        </ul>
      </nav>
    </header>

    <!-- Videos Section -->
    <section id="videos" class="wrapper style2 fade-up">
      <div class="inner">
        <h2>Videos</h2>
        <p class="muted">Click a thumbnail and enter the password to view the video/playlist.</p>
        <ul id="global-video-list" class="list-container"></ul>
      </div>
    </section>

    <!-- Footer -->
    <footer id="footer">
      <p>&copy; VIDU. All rights reserved.</p>
    </footer>
  </div>

  <!-- Password & Embed Modal (hidden until needed) -->
  <div id="modal-root" style="display:none;"></div>

  <script>
  /*************************************************************************
   * Password-gated embed logic (upgraded) + playlist fetch + header neon interactions
   * - When a playlist is unlocked, we query YouTube Data API v3 (client-side) for items
   * - Render a clickable list of the playlist's videos inside the modal
   * - Clicking a video plays it inside the modal iframe
   * NOTE: You must provide a YT API KEY (see README in chat / docs). If no key is present
   *       the code falls back to opening the playlist on YouTube.
   *************************************************************************/

  // --- CONFIG: paste your API key here ---
  const YT_API_KEY = 'AIzaSyDFyNxJJ_LbTEwLZkcLZ0wT3bDNfGcHCAI'; // <-- replace with a valid YouTube Data API v3 key

  const globalVideos = [
    { type: 'video', title: 'Quick Tutorial', thumb: '', idB64: 'VklERU9fSURfMV8=', passB64:btoa("123")},
    // playlist id contains an &si param in your example; code will extract the playlist id before the &
    { type: 'playlist', title: 'SFT - Theory + Revision', thumb: '', idB64:btoa("PL9zX0VbNmKiGt19HZ9wzIwC-VQ_AN0z9K&si=0jJc5HTa68Weq851"), passB64:btoa("123") },
    { type: 'video', title: 'Advanced Trick', thumb: 'https://img.youtube.com/vi/ANOTHER_VIDEO_ID/hqdefault.jpg', idB64: 'QU5PVEhFUl9WSURFT19JRA==', passB64: 'cGFzczM=' }
  ];

  function b64decode(s) { try { return atob(s); } catch(e) { return s; } }
  function extractPlaylistId(raw) {
    if(!raw) return raw;
    // remove any URL params that might have been included (eg. &si=...)
    return raw.split('&')[0];
  }

  function buildEmbedUrl(item) {
    const id = b64decode(item.idB64);
    if (item.type === 'video') return `https://www.youtube.com/embed/${encodeURIComponent(id)}?rel=0&autoplay=1`;
    // playlist embed is fallback; primary UX will list videos instead
    return `https://www.youtube.com/embed/videoseries?list=${encodeURIComponent(extractPlaylistId(id))}&autoplay=1`;
  }

  function getThumb(item) {
    if (item.thumb && item.thumb.trim().length) return item.thumb;
    try {
      const id = b64decode(item.idB64);
      if (item.type === 'video') return `https://img.youtube.com/vi/${id}/hqdefault.jpg`;
      return 'https://i.imgur.com/8Km9tLL.png';
    } catch(e) { return 'https://i.imgur.com/8Km9tLL.png'; }
  }

  function createModal() {
    const root = document.getElementById('modal-root');
    root.innerHTML = `
      <div class="modal-backdrop" id="modal-backdrop">
        <div class="modal" role="dialog" aria-modal="true">
          <div class="controls">
            <div><strong id="modal-title">Locked</strong><div class="muted" id="modal-subtitle"></div></div>
            <div><button id="modal-close" class="btn secondary">Close</button></div>
          </div>
          <div id="modal-content">
            <div id="password-block">
              <div class="muted">This item is password-protected. Enter the password to unlock and play.</div>
              <div class="password-row" style="margin-top:10px;">
                <input id="password-input" type="password" placeholder="Enter password" />
                <button id="password-submit" class="btn">Unlock</button>
              </div>
              <div id="password-error" class="muted" style="margin-top:8px;color:#f66;display:none;"></div>
            </div>

            <div id="player-block" style="display:none; margin-top:10px;">
              <div style="display:flex; gap:8px; align-items:center; justify-content:space-between; margin-bottom:8px;">
                <div class="muted" id="now-playing-label">Now playing</div>
                <div>
                  <button id="open-youtube" class="btn secondary">Open in YouTube</button>
                  <button id="close-player" class="btn">Close Player</button>
                </div>
              </div>
              <div id="player-wrap"></div>

              <!-- playlist videos list will be injected here when relevant -->
              <div id="playlist-list-wrap" style="display:none;">
                <div class="muted">Playlist contents</div>
                <div class="playlist-list" id="playlist-video-list"></div>
              </div>
            </div>

          </div>
        </div>
      </div>`;
    document.getElementById('modal-close').onclick = closeModal;
    document.getElementById('close-player').onclick = closeModal;
    document.getElementById('password-submit').onclick = onPasswordSubmit;
    document.getElementById('password-input').onkeydown = (e)=>{ if(e.key === 'Enter') onPasswordSubmit(); };
    document.getElementById('modal-backdrop').onclick = function(e){ if(e.target === this) closeModal(); };
  }

  let currentItemIndex = null;
  function openPasswordModal(idx) {
    currentItemIndex = idx;
    const item = globalVideos[idx];
    const title = item.title || 'Protected item';
    const subtitle = (item.type === 'playlist') ? 'Playlist' : 'Video';
    const root = document.getElementById('modal-root');
    root.style.display = 'block';
    document.getElementById('modal-title').textContent = title;
    document.getElementById('modal-subtitle').textContent = subtitle + ' — password required';
    document.getElementById('password-input').value = '';
    document.getElementById('password-error').style.display = 'none';
    document.getElementById('password-block').style.display = 'block';
    document.getElementById('player-block').style.display = 'none';
    setTimeout(()=>document.getElementById('password-input').focus(), 50);
  }

  function closeModal() {
    const root = document.getElementById('modal-root');
    root.style.display = 'none';
    const wrap = document.getElementById('player-wrap');
    if (wrap) wrap.innerHTML = '';
    const plwrap = document.getElementById('playlist-video-list'); if(plwrap) plwrap.innerHTML='';
    document.getElementById('playlist-list-wrap') && (document.getElementById('playlist-list-wrap').style.display='none');
    currentItemIndex = null;
  }

  function onPasswordSubmit() {
    const val = (document.getElementById('password-input').value || '').trim();
    const item = globalVideos[currentItemIndex];
    const expected = b64decode((item.passB64 || '').trim());
    if (val === expected) {
      document.getElementById('password-block').style.display = 'none';
      document.getElementById('password-error').style.display = 'none';
      showPlayerForItem(item);
    } else {
      const err = document.getElementById('password-error');
      err.style.display = 'block';
      err.textContent = 'Incorrect password — try again.';
    }
  }

  // play a single video by id (used for list and single video items)
  function showPlayerForVideo(videoId, title){
    const wrap = document.getElementById('player-wrap');
    const iframe = document.createElement('iframe');
    iframe.setAttribute('src', `https://www.youtube.com/embed/${encodeURIComponent(videoId)}?rel=0&autoplay=1`);
    iframe.setAttribute('allow', 'autoplay; encrypted-media; fullscreen');
    iframe.setAttribute('allowfullscreen', '');
    iframe.style.width = '100%';
    iframe.style.height = '520px';
    wrap.innerHTML = '';
    wrap.appendChild(iframe);
    document.getElementById('player-block').style.display = 'block';
    document.getElementById('now-playing-label').textContent = title ? `Now playing — ${title}` : 'Now playing';

    // ensure open-youtube opens the currently loaded video
    document.getElementById('open-youtube').onclick = function(){ window.open(`https://youtu.be/${videoId}`, '_blank', 'noopener'); };

    // mark active item in playlist list if present
    const rows = document.querySelectorAll('#playlist-video-list .list-item');
    rows.forEach(r=> r.classList.remove('active'));
    const active = document.querySelector(`#playlist-video-list .list-item[data-video-id="${videoId}"]`);
    if(active) active.classList.add('active');
  }

  // handle playlist: fetch video items and render list
  async function showPlaylistInsideModal(item){
    const raw = b64decode(item.idB64);
    const playlistId = extractPlaylistId(raw);

    // if no API key provided, fallback to opening playlist on YouTube
    if(!YT_API_KEY || YT_API_KEY === 'YOUR_API_KEY_HERE'){
      const wrap = document.getElementById('player-wrap');
      wrap.innerHTML = `<div class="muted">No API key configured. <button id='open-fallback' class='btn secondary' style='margin-left:8px;'>Open playlist on YouTube</button></div>`;
      document.getElementById('player-block').style.display = 'block';
      document.getElementById('open-fallback').onclick = ()=> window.open(`https://www.youtube.com/playlist?list=${playlistId}`, '_blank', 'noopener');
      return;
    }

    // fetch playlist contents (handles pagination)
    try{
      const videos = await fetchPlaylistVideos(playlistId);
      if(!videos.length){
        const wrap = document.getElementById('player-wrap');
        wrap.innerHTML = `<div class="muted">No videos found in this playlist or playlist is private.</div>`;
        document.getElementById('player-block').style.display = 'block';
        return;
      }

      // render list
      const listWrap = document.getElementById('playlist-video-list');
      listWrap.innerHTML = '';
      videos.forEach(v=>{
        const li = document.createElement('div');
        li.className = 'list-item ripple';
        li.setAttribute('data-video-id', v.videoId);
        li.innerHTML = `
          <img src="${v.thumb}" alt="${escapeHtml(v.title)}" loading="lazy" />
          <div class="title">${escapeHtml(v.title)}</div>
        `;
        li.onclick = ()=> showPlayerForVideo(v.videoId, v.title);
        listWrap.appendChild(li);
      });

      document.getElementById('player-block').style.display = 'block';
      document.getElementById('playlist-list-wrap').style.display = 'block';

      // auto-play first video for a nicer UX
      showPlayerForVideo(videos[0].videoId, videos[0].title);

    } catch(err){
      console.error('Playlist fetch error', err);
      const wrap = document.getElementById('player-wrap');
      wrap.innerHTML = `<div class="muted">Failed to load playlist contents. <span style='display:block;margin-top:6px;color:#f66;'>${escapeHtml(err.message || 'Unknown error')}</span></div>`;
      document.getElementById('player-block').style.display = 'block';
    }
  }

  // perform the YouTube Data fetch with pagination
  async function fetchPlaylistVideos(playlistId){
    const items = [];
    let pageToken = '';
    do{
      const url = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId=${encodeURIComponent(playlistId)}&key=${encodeURIComponent(YT_API_KEY)}` + (pageToken?`&pageToken=${pageToken}`:'');
      const res = await fetch(url);
      if(!res.ok){
        const txt = await res.text().catch(()=>null);
        throw new Error('YouTube API error: '+(res.status+' '+res.statusText)+' '+(txt||''));
      }
      const data = await res.json();
      (data.items || []).forEach(it=>{
        const sn = it.snippet || {};
        if(sn.resourceId && sn.resourceId.videoId){
          const thumb = (sn.thumbnails && (sn.thumbnails.high || sn.thumbnails.medium || sn.thumbnails.default)) || {};
          items.push({ videoId: sn.resourceId.videoId, title: sn.title || 'Untitled', thumb: thumb.url || `https://img.youtube.com/vi/${sn.resourceId.videoId}/hqdefault.jpg` });
        }
      });
      pageToken = data.nextPageToken || '';
    } while(pageToken);
    return items;
  }

  function escapeHtml(s){ return (s||'').replace(/[&<>"'`]/g, function(ch){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;","`":"&#96;"})[ch]; }); }

  function showPlayerForItem(item) {
    if(item.type === 'video'){
      const id = b64decode(item.idB64);
      showPlayerForVideo(id, item.title);
    } else {
      // playlist: fetch items and render list
      showPlaylistInsideModal(item);
    }
  }

  function renderList() {
    const ul = document.getElementById('global-video-list');
    ul.innerHTML = '';
    globalVideos.forEach((v, i) => {
      const li = document.createElement('li');
      li.className = 'list-item ripple';
      const thumb = getThumb(v);
      li.innerHTML = `
        <img src="${thumb}" alt="${v.title}" loading="lazy" />
        <span class="title">${v.title}</span>
      `;
      li.onclick = ()=> openPasswordModal(i);
      ul.appendChild(li);
    });
  }

  // create particles overlay (keeps background)
  (function createParticles(){
    try {
      const canvas=document.createElement('canvas'); canvas.id='fx-canvas'; canvas.style.position='fixed'; canvas.style.left='0'; canvas.style.top='0'; canvas.style.width='100%'; canvas.style.height='100%'; canvas.style.zIndex='1'; canvas.style.pointerEvents='none'; document.body.appendChild(canvas);
      const ctx=canvas.getContext('2d'); let dpr=Math.min(2, window.devicePixelRatio || 1);
      function resize(){ canvas.width=innerWidth*dpr; canvas.height=innerHeight*dpr; canvas.style.width=innerWidth+'px'; canvas.style.height=innerHeight+'px'; ctx.setTransform(dpr,0,0,dpr,0,0); }
      window.addEventListener('resize', resize, {passive:true}); resize();
      const stars=[]; for(let i=0;i<80;i++){ stars.push({ x:Math.random()*innerWidth, y:Math.random()*innerHeight, r:Math.random()*1.8+0.3, vx:(Math.random()-0.5)*0.12, vy:(Math.random()-0.5)*0.06, hue:200+Math.random()*120, alpha:Math.random()*0.22+0.06 }); }
      function draw(){ ctx.clearRect(0,0,innerWidth,innerHeight); const g=ctx.createRadialGradient(innerWidth*0.7, innerHeight*0.35, 0, innerWidth*0.4, innerHeight*0.6, Math.max(innerWidth,innerHeight)); g.addColorStop(0,'rgba(123,97,255,0.05)'); g.addColorStop(0.45,'rgba(57,255,20,0.02)'); g.addColorStop(1,'rgba(0,0,0,0)'); ctx.fillStyle=g; ctx.fillRect(0,0,innerWidth,innerHeight);
        for(const s of stars){ s.x+=s.vx; s.y+=s.vy; if(s.x<-10) s.x=innerWidth+10; if(s.x>innerWidth+10) s.x=-10; if(s.y<-10) s.y=innerHeight+10; if(s.y>innerHeight+10) s.y=-10; ctx.beginPath(); ctx.fillStyle=`hsla(${s.hue},85%,70%,${s.alpha})`; ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fill(); }
        for(let i=0;i<stars.length;i++){ const a=stars[i]; for(let j=i+1;j<stars.length;j++){ const b=stars[j]; const dx=a.x-b.x, dy=a.y-b.y; const d=Math.sqrt(dx*dx+dy*dy); if(d<140){ ctx.beginPath(); ctx.strokeStyle=`rgba(120,150,255,${(1-d/140)*0.03})`; ctx.lineWidth=1; ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke(); } } }
        requestAnimationFrame(draw);
      }
      draw();
    } catch(e){ console.warn('particles failed', e); }
  })();

  // small deterrents & accessibility
  document.addEventListener('contextmenu', function(e){ e.preventDefault(); }, false);
  document.addEventListener('keydown', function(e){
    if ((e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) ||
        (e.ctrlKey && (e.key === 'U' || e.key === 'u')) ||
        (e.key === 'F12')) { e.preventDefault(); return false; }
  });
  document.addEventListener('keydown', function(e){ if (e.key === 'Escape') { closeModal(); } });

  // attach tiny entrance delays for cards
  (function staggerCards(){ document.addEventListener('DOMContentLoaded', ()=>{ const cards=document.querySelectorAll('.list-item'); cards.forEach((c,i)=> c.style.animationDelay=(i*60)+'ms'); }); })();

  /* =========================
     HEADER NEON INTERACTIONS (logo + nav items)
  ========================= */

  function attachHeaderInteractions(){
    const selector = 'header nav ul li a, header .logo';
    const els = Array.from(document.querySelectorAll(selector));
    if(els.length === 0){
      setTimeout(attachHeaderInteractions, 200);
      return;
    }

    function onPointerEnter(e){
      if(e.pointerType === 'touch') return;
      e.currentTarget.classList.add('hover-strong');
    }
    function onPointerLeave(e){ e.currentTarget.classList.remove('hover-strong'); }
    function onPointerDown(e){
      const el = e.currentTarget;
      el.classList.add('touch-active');
      el.classList.add('pulse');
      setTimeout(()=> el.classList.remove('pulse'), 480);
      setTimeout(()=> el.classList.remove('touch-active'), 420);
    }
    function onTouchStart(e){
      const el = e.currentTarget;
      el.classList.add('touch-active');
      setTimeout(()=> el.classList.remove('touch-active'), 420);
    }

    els.forEach(el=>{
      if(getComputedStyle(el).position === 'static') el.style.position = 'relative';
      el.addEventListener('pointerenter', onPointerEnter, {passive:true});
      el.addEventListener('pointerleave', onPointerLeave, {passive:true});
      el.addEventListener('pointerdown', onPointerDown, {passive:true});
      el.addEventListener('touchstart', onTouchStart, {passive:true});
      el.addEventListener('focus', ()=> el.classList.add('hover-strong'));
      el.addEventListener('blur', ()=> el.classList.remove('hover-strong'));
    });

    // observe DOM to re-attach for dynamic changes (if any)
    const mo = new MutationObserver(()=> attachHeaderInteractions());
    mo.observe(document.body, { childList:true, subtree:true });
  }

  // initialize page
  document.addEventListener('DOMContentLoaded', function(){
    createModal();
    renderList();
    attachHeaderInteractions();
  });
  </script>

  <!-- HTML5 UP Scripts (kept at bottom as before) -->
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/browser.min.js"></script>
  <script src="assets/js/breakpoints.min.js"></script>
  <script src="assets/js/util.js"></script>
  <script src="assets/js/main.js"></script>
</body>
</html>
